<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hasil Tryout - SiapLolos</title>
    <!-- Memuat Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- [PENTING] Memuat Library Chart.js untuk Grafik -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      /* Animasi fade-in sederhana */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }

      /* [PERUBAHAN]: Style untuk Tab Rasionalisasi */
      .tab-active {
        color: white;
        border-bottom-color: #a855f7; /* purple-500 */
      }
      .tab-inactive {
        color: #9ca3af; /* gray-400 */
        border-bottom-color: transparent;
      }
      .tab-inactive:hover {
        color: white;
        border-bottom-color: #6b7280; /* gray-500 */
      }
    </style>
  </head>
  <body class="bg-gray-900 text-gray-200 font-sans">
    <!-- 1. Navbar (Sama seperti dashboard) -->
    <nav
      class="bg-gray-800 shadow-lg sticky top-0 z-50 border-b border-gray-700"
    >
      <div
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <!-- [PERUBAHAN]: Link diubah dari index.html ke dashboard.html -->
        <a href="dashboard.html" class="font-extrabold text-2xl text-white">
          SiapLolos
        </a>

        <div class="flex space-x-4 items-center">
          <span class="text-gray-300 hidden sm:block">Ahmad Maulana</span>
          <!-- Ikon Profil Placeholder -->
          <div
            class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold"
          >
            A
          </div>
        </div>
      </div>
    </nav>

    <!-- 2. Konten Utama Halaman Hasil -->
    <main class="container mx-auto px-6 py-12">
      <div class="max-w-4xl mx-auto">
        <!-- Judul Halaman -->
        <div class="text-center mb-10 fade-in" style="animation-delay: 100ms">
          <h1 class="text-4xl font-extrabold text-white">Kerja Bagus!</h1>
          <p class="text-lg text-gray-400 mt-2">
            Berikut adalah rincian hasil Tryout Premium #3 kamu.
          </p>
        </div>

        <!-- 1. Skor Utama -->
        <div
          class="bg-gray-800 rounded-xl shadow-2xl p-8 text-center mb-8 fade-in"
          style="animation-delay: 200ms"
        >
          <h2 class="text-sm font-medium text-gray-400 uppercase">
            Skor Total (IRT)
          </h2>
          <!-- Skor Utama dengan Gradien -->
          <div
            class="text-8xl font-extrabold my-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-indigo-500"
          >
            680
          </div>
          <p class="text-gray-300 max-w-md mx-auto">
            Skor ini adalah simulasi berdasarkan model IRT. Terus tingkatkan di
            tryout berikutnya!
          </p>
        </div>

        <!-- 2. Ringkasan (3 Kartu) -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
          <!-- Kartu Benar -->
          <div
            class="bg-gray-800 rounded-xl shadow-lg p-6 text-center fade-in"
            style="animation-delay: 300ms"
          >
            <h3 class="text-lg font-medium text-green-400">BENAR</h3>
            <div class="text-4xl font-bold text-white mt-2">15</div>
            <p class="text-gray-400 text-sm">soal</p>
          </div>
          <!-- Kartu Salah -->
          <div
            class="bg-gray-800 rounded-xl shadow-lg p-6 text-center fade-in"
            style="animation-delay: 400ms"
          >
            <h3 class="text-lg font-medium text-red-400">SALAH</h3>
            <div class="text-4xl font-bold text-white mt-2">3</div>
            <p class="text-gray-400 text-sm">soal</p>
          </div>
          <!-- Kartu Dikosongkan -->
          <div
            class="bg-gray-800 rounded-xl shadow-lg p-6 text-center fade-in"
            style="animation-delay: 500ms"
          >
            <h3 class="text-lg font-medium text-gray-400">DIKOSONGKAN</h3>
            <div class="text-4xl font-bold text-white mt-2">2</div>
            <p class="text-gray-400 text-sm">soal</p>
          </div>
        </div>

        <!-- 3. Grafik Bar Chart (JavaScript) -->
        <div
          class="bg-gray-800 rounded-xl shadow-lg p-8 mb-8 fade-in"
          style="animation-delay: 600ms"
        >
          <h2 class="text-2xl font-bold text-white mb-6 text-center">
            Analisis Skor per Sub-Tes
          </h2>
          <div>
            <!-- [PENTING]: Ini adalah 'kanvas' tempat grafik akan digambar oleh Chart.js -->
            <canvas id="skorSubtesChart" height="120"></canvas>
          </div>
        </div>

        <!-- [PERUBAHAN BARU]: 3.5. Analisis Peluang Lolos (Rasionalisasi) -->
        <div
          class="bg-gray-800 rounded-xl shadow-lg p-8 mb-8 fade-in"
          style="animation-delay: 700ms"
        >
          <h2 class="text-2xl font-bold text-white mb-6 text-center">
            Analisis Peluang Lolos
          </h2>

          <!-- Tab Kategori -->
          <div
            class="flex justify-center space-x-2 sm:space-x-4 mb-6 border-b border-gray-700"
          >
            <button
              id="tab-aman"
              class="tab-button tab-active py-2 px-3 sm:px-4 text-sm sm:text-base font-medium border-b-2 transition-colors duration-200"
            >
              Peluang Aman
            </button>
            <button
              id="tab-realistis"
              class="tab-button tab-inactive py-2 px-3 sm:px-4 text-sm sm:text-base font-medium border-b-2 transition-colors duration-200"
            >
              Realistis
            </button>
            <button
              id="tab-impian"
              class="tab-button tab-inactive py-2 px-3 sm:px-4 text-sm sm:text-base font-medium border-b-2 transition-colors duration-200"
            >
              Impian/Target
            </button>
          </div>

          <!-- Konten Tab -->
          <div class="space-y-6">
            <!-- Konten Tab: Peluang Aman -->
            <div id="content-aman" class="tab-content space-y-4">
              <!-- Kartu Jurusan 1 -->
              <div class="bg-gray-900 p-5 rounded-lg border border-gray-700">
                <h3 class="text-lg font-bold text-white">
                  Ilmu Komputer - Universitas X
                </h3>
                <p class="text-sm text-gray-400 mb-4">Peluang Lolos: Tinggi</p>

                <!-- Visual Perbandingan Skor -->
                <div class="space-y-3">
                  <!-- Bar Skor Kamu -->
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-purple-400">Skor Kamu</span>
                      <span class="font-bold text-white">680</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gradient-to-r from-purple-500 to-indigo-500 h-2.5 rounded-full"
                        style="width: 95%"
                      ></div>
                    </div>
                  </div>
                  <!-- Bar Skor Minimal -->
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-gray-400"
                        >Skor Minimal '24</span
                      >
                      <span class="font-bold text-gray-400">610</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gray-500 h-2.5 rounded-full"
                        style="width: 80%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Konten Tab: Realistis (Hidden by default) -->
            <div id="content-realistis" class="tab-content hidden space-y-4">
              <!-- Kartu Jurusan 2 -->
              <div class="bg-gray-900 p-5 rounded-lg border border-gray-700">
                <h3 class="text-lg font-bold text-white">
                  Teknik Informatika - ITB
                </h3>
                <p class="text-sm text-gray-400 mb-4">
                  Peluang Lolos: Realistis
                </p>

                <div class="space-y-3">
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-purple-400">Skor Kamu</span>
                      <span class="font-bold text-white">680</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gradient-to-r from-purple-500 to-indigo-500 h-2.5 rounded-full"
                        style="width: 92%"
                      ></div>
                    </div>
                  </div>
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-gray-400"
                        >Skor Minimal '24</span
                      >
                      <span class="font-bold text-gray-400">670</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gray-500 h-2.5 rounded-full"
                        style="width: 90%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Konten Tab: Impian (Hidden by default) -->
            <div id="content-impian" class="tab-content hidden space-y-4">
              <!-- Kartu Jurusan 3 -->
              <div class="bg-gray-900 p-5 rounded-lg border border-gray-700">
                <h3 class="text-lg font-bold text-white">Kedokteran - UI</h3>
                <p class="text-sm text-gray-400 mb-4">
                  Peluang Lolos: Target Impian
                </p>

                <div class="space-y-3">
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-purple-400">Skor Kamu</span>
                      <span class="font-bold text-white">680</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gradient-to-r from-purple-500 to-indigo-500 h-2.5 rounded-full"
                        style="width: 85%"
                      ></div>
                    </div>
                  </div>
                  <div class="space-y-1">
                    <div class="flex justify-between text-sm">
                      <span class="font-medium text-gray-400"
                        >Skor Minimal '24</span
                      >
                      <span class="font-bold text-gray-400">715</span>
                    </div>
                    <div class="flex-1 bg-gray-700 rounded-full h-2.5">
                      <div
                        class="bg-gray-500 h-2.5 rounded-full"
                        style="width: 100%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 4. Tombol CTA -->
        <!-- [PERUBAHAN]: Animation delay diubah menjadi 800ms -->
        <div class="text-center fade-in" style="animation-delay: 800ms">
          <a
            href="pembahasan.html"
            class="inline-block w-full max-w-lg px-8 py-4 rounded-lg text-lg font-bold text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg"
          >
            Lihat Pembahasan Mendalam
          </a>
        </div>
      </div>
    </main>

    <!-- ====================================================== -->
    <!-- === [PENAMBAHAN JAVASCRIPT UNTUK GRAFIK] === -->
    <!-- ====================================================== -->
    <script>
      // Tunggu sampai halaman selesai dimuat
      document.addEventListener("DOMContentLoaded", (event) => {
        // === [LOGIKA UNTUK GRAFIK CHART.JS] ===
        const ctx = document.getElementById("skorSubtesChart").getContext("2d");

        // Data dummy untuk grafik
        const dataSkor = {
          labels: [
            "Penalaran Umum (PU)",
            "Pengetahuan Kuantitatif (PK)",
            "Pemahaman Bacaan (PBM)",
          ],
          datasets: [
            {
              label: "Skor per Sub-Tes",
              data: [700, 650, 680], // Data skor
              // Atur warna bar (konsisten dengan tema)
              backgroundColor: [
                "rgba(168, 85, 247, 0.7)", // purple-500
                "rgba(99, 102, 241, 0.7)", // indigo-500
                "rgba(59, 130, 246, 0.7)", // blue-500
              ],
              borderColor: [
                "#a855f7", // purple-500
                "#6366f1", // indigo-500
                "#3b82f6", // blue-500
              ],
              borderWidth: 1,
            },
          ],
        };

        // Opsi untuk grafik (agar sesuai dark mode)
        const options = {
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                color: "#d1d5db", // text-gray-300
              },
              grid: {
                color: "#4b5563", // border-gray-700
              },
            },
            x: {
              ticks: {
                color: "#d1d5db", // text-gray-300
              },
              grid: {
                display: false, // Sembunyikan grid x
              },
            },
          },
          plugins: {
            legend: {
              display: false, // Sembunyikan legenda
            },
          },
        };

        // Buat grafiknya!
        const myChart = new Chart(ctx, {
          type: "bar", // Tipe grafik bar
          data: dataSkor,
          options: options,
        });

        <!-- === [PERUBAHAN BARU]: LOGIKA UNTUK TAB RASIONALISASI === -->

        const tabs = document.querySelectorAll(".tab-button");
        const contents = document.querySelectorAll(".tab-content");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            // Hapus style aktif dari semua tab
            tabs.forEach((t) => {
              t.classList.remove("tab-active");
              t.classList.add("tab-inactive");
            });

            // Tambahkan style aktif ke tab yang diklik
            tab.classList.add("tab-active");
            tab.classList.remove("tab-inactive");

            // Sembunyikan semua konten
            contents.forEach((c) => {
              c.classList.add("hidden");
            });

            // Tampilkan konten yang sesuai
            const targetContentId = tab.id.replace("tab-", "content-");
            const targetContent = document.getElementById(targetContentId);
            if (targetContent) {
              targetContent.classList.remove("hidden");
            }
          });
        });
      });
    </script>
  </body>
</html>
